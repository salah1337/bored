(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{183:function(e,t,n){var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.userStore=void 0;var r=a(n(2)),o=a(n(3)),l=n(9),i=new(function(){function e(){(0,r.default)(this,e),this.user=Object,this.userCount=0,(0,l.makeObservable)(this,{user:l.observable,setUser:l.action,unsetUser:l.action,userCount:l.observable,setUserCount:l.action,unsetUserCount:l.action,currentUser:l.computed,getUserCount:l.computed})}return(0,o.default)(e,[{key:"setUser",value:function(e){this.user=e}},{key:"unsetUser",value:function(){this.user={}}},{key:"setUserCount",value:function(e){this.userCount=e}},{key:"unsetUserCount",value:function(){this.userCount=0}},{key:"currentUser",get:function(){return this.user}},{key:"getUserCount",get:function(){return this.userCount}}]),e}());t.userStore=i},301:function(e,t,n){var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(13)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=r?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(1)),l=n(4),i=a(n(177)),s=a(n(786)),u=a(n(845)),c=a(n(846)),d=n(63),f=n(48),g=n(319),m=n(183);function h(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}var y=topBar=(0,g.observer)((function(e){var t=e.navigation,a=(0,o.useState)(!1),i=(0,r.default)(a,2),g=i[0],h=i[1],y=(0,o.useState)(!1),p=(0,r.default)(y,2),v=p[0],x=p[1],S=(0,o.useState)(!1),w=(0,r.default)(S,2),E=w[0],k=w[1];return o.default.createElement(l.View,{style:b.topBar},o.default.createElement(d.TouchableOpacity,{onPress:function(){t.goBack()}},o.default.createElement(l.Image,{style:b.logo,source:n(74)})),o.default.createElement(l.View,{style:b.topBarBtns},o.default.createElement(d.TouchableOpacity,{onPress:function(){return x(!0)},style:[b.topBarBtn,f.globalStyle.grayBtn]},o.default.createElement(l.Text,null,"VIP")),o.default.createElement(d.TouchableOpacity,{onPress:function(){return h(!0)},style:[b.topBarBtn,f.globalStyle.yellowBtn,b.loginBtn]},o.default.createElement(l.Text,null,"Login"),o.default.createElement(l.Text,null,void 0!=m.userStore.currentUser.user?m.userStore.currentUser.user.username:"not logged in")),o.default.createElement(d.TouchableOpacity,{onPress:function(){return k(!0)},style:[b.topBarBtn,f.globalStyle.grayBtn]},o.default.createElement(l.Text,null,"Shop"))),o.default.createElement(l.Text,{style:[f.globalStyle.textWhite,f.globalStyle.textMd,{width:250,textAlign:"right"}]},"Online: ",o.default.createElement(l.Text,{style:f.globalStyle.textGreen},m.userStore.getUserCount)),o.default.createElement(l.Modal,{style:b.modal,visible:g},o.default.createElement(l.ImageBackground,{resizeMode:"repeat",source:n(67),style:b.container},o.default.createElement(c.default,{closeModal:function(){return h(!1)}}))),o.default.createElement(l.Modal,{style:b.modal,visible:v},o.default.createElement(l.ImageBackground,{resizeMode:"repeat",source:n(67),style:b.container},o.default.createElement(s.default,{closeModal:function(){return x(!1)}}))),o.default.createElement(l.Modal,{style:b.modal,visible:E},o.default.createElement(l.ImageBackground,{resizeMode:"repeat",source:n(67),style:b.container},o.default.createElement(u.default,{closeModal:function(){return k(!1)}}))))}));t.default=y;var p=i.default.create({container:{flex:1,justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},modal:{width:"100%",height:"100%",margin:0},topBar:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:10,"@media (max-width: 500px)":{flexDirection:"column"}},topBarBtns:{flexDirection:"row",alignItems:"flex-end",justifyContent:"center",width:250},topBarBtn:{marginHorizontal:5,paddingHorizontal:16,paddingVertical:6},loginBtn:{paddingHorizontal:48,paddingVertical:12},logo:{height:100,width:250,resizeMode:"contain"}}),b=(p.ids,p.styles)},326:function(e,t,n){e.exports=n(327)},327:function(e,t,n){var a=n(0),r=n(328),o=a(n(513));(0,r.registerRootComponent)(o.default)},48:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.globalStyle=void 0;var a=n(4),r=n(778),o=a.StyleSheet.create({textMd:{fontSize:(0,r.RFValue)(10,580)},textWhite:{color:"#fff"},textGreen:{color:"rgb(5, 233, 5)"},textBold:{fontWeight:"600"},greenBtn:{backgroundColor:"rgb(5, 233, 5)",shadowColor:"rgb(6, 167, 25)",shadowOffset:{width:0,height:6},shadowOpacity:.37,shadowRadius:7.49,elevation:12,borderRadius:2},redBtn:{backgroundColor:"rgb(177, 27, 27)",shadowColor:"rgb(6, 167, 25)",shadowOffset:{width:0,height:6},shadowOpacity:.37,shadowRadius:7.49,elevation:12,borderRadius:2},blueBtn:{backgroundColor:"rgb(65, 129, 225)",shadowColor:"rgb(6, 167, 25)",shadowOffset:{width:0,height:6},shadowOpacity:.37,shadowRadius:7.49,elevation:12,borderRadius:2},yellowBtn:{backgroundColor:"rgb(255, 255, 0)",shadowColor:"rgb(147, 169, 2)",shadowOffset:{width:0,height:6},shadowOpacity:.37,shadowRadius:7.49,elevation:12,borderRadius:2},grayBtn:{backgroundColor:"rgb(182, 182, 182)",shadowColor:"rgb(138, 138, 138)",shadowOffset:{width:0,height:6},shadowOpacity:.37,shadowRadius:7.49,elevation:12,borderRadius:2}});t.globalStyle=o},513:function(e,t,n){var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;n(514);var r=n(319),o=a(n(1)),l=n(4),i=a(n(523)),s=(0,r.observer)((function(){return o.default.createElement(i.default,{style:u.container})}));t.default=s;var u=l.StyleSheet.create({container:{flex:1},logo:{height:500,width:500,resizeMode:"contain"},buttonsContainer:{flexDirection:"row"},buttons:{margin:10,padding:10}})},523:function(e,t,n){var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(524),o=n(70),l=a(n(777)),i=a(n(781)),s=a(n(872)),u={Home:{screen:l.default},Chat:{screen:i.default},Video:{screen:s.default}},c=(0,r.createStackNavigator)(u,{defaultNavigationOptions:{headerShown:!1}}),d=(0,o.createAppContainer)(c);t.default=d},67:function(e,t,n){e.exports=n.p+"static/media/bg.134c3a4a.png"},74:function(e,t,n){e.exports=n.p+"static/media/video-box-logo.4f375b15.png"},777:function(e,t,n){var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.navigation;return r.default.createElement(o.ImageBackground,{resizeMode:"repeat",source:n(67),style:s.container},r.default.createElement(o.Image,{style:s.logo,source:n(74)}),r.default.createElement(o.Text,{style:[i.globalStyle.textMd,i.globalStyle.textWhite]},"U Bored?"),r.default.createElement(o.View,{style:s.buttonsContainer},r.default.createElement(l.TouchableOpacity,{onPress:function(){t.navigate("Chat")},style:[i.globalStyle.greenBtn,s.buttons]},r.default.createElement(o.Image,{style:s.btnImage,source:n(779)}),r.default.createElement(o.Text,{style:[i.globalStyle.textWhite,i.globalStyle.textBold]},"Chat")),r.default.createElement(l.TouchableOpacity,{onPress:function(){t.navigate("Video")},style:[i.globalStyle.greenBtn,s.buttons]},r.default.createElement(o.Image,{style:s.btnImage,source:n(780)}),r.default.createElement(o.Text,{style:[i.globalStyle.textWhite,i.globalStyle.textBold]},"Video"))))};var r=a(n(1)),o=n(4),l=n(63),i=n(48);var s=o.StyleSheet.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"},logo:{height:200,width:500,resizeMode:"contain"},buttonsContainer:{flexDirection:"row",marginVertical:20},buttons:{margin:10,padding:10,height:200,width:200,justifyContent:"center",alignItems:"center",borderRadius:4},btnImage:{height:100,width:100,resizeMode:"contain"}})},779:function(e,t,n){e.exports=n.p+"static/media/chat.97227cfe.png"},780:function(e,t,n){e.exports=n.p+"static/media/video.4a4ea4de.png"},781:function(e,t,n){var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(14)),o=a(n(2)),l=a(n(3)),i=a(n(6)),s=a(n(7)),u=a(n(5)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=r?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(1)),d=n(4),f=a(n(177)),g=a(n(301)),m=(a(n(867)),n(48)),h=a(n(320));function y(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var b=function(e){(0,i.default)(a,e);var t=p(a);function a(e){var n;return(0,o.default)(this,a),(n=t.call(this,e)).start=function(){n.state.started=!0,n.socket.emit("start"),n.updateMsgs("Looking for stranger...","server",!0)},n.sendMsg=function(){n.socket.emit("newMsg",{msg:n.state.msg,id:n.socket.id}),n.updateMsgs(n.state.msg)},n.updateMsgs=function(e,t,a){e&&(a?n.setState({msgs:[{text:e,romStranger:"stranger"==t,fromServer:"server"==t}],msg:""}):n.setState({msgs:[{text:e,fromStranger:"stranger"==t,fromServer:"server"==t}].concat((0,r.default)(n.state.msgs)),msg:""}))},n.state={msg:"",msgs:[],started:!1},n}return(0,l.default)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({msgs:[{text:"Welcome to text chat, click start to begin!",fromServer:!0}]}),this.socket=h.default.connect("https://boredbackend.herokuapp.com/chat"),this.socket.on("rooms",(function(e){console.log("rooms: "+JSON.stringify(e))})),this.socket.on("newMsg",(function(t){e.updateMsgs(t.msg,"stranger")})),this.socket.on("foundStranger",(function(){e.updateMsgs("Found New Stranger, Say Hi!","server",!0)})),this.socket.on("strangerLeft",(function(){e.updateMsgs("Stranger Left, looking for new room...","server")})),this.socket.on("joinRoom",(function(t){e.socket.emit("joinRoom",t)})),this.socket.on("queueUp",(function(){e.socket.emit("queueUp")})),this.socket.on("addedToQueue",(function(){e.updateMsgs("No Stranger Found, waiting on queue...","server")}))}},{key:"componentWillUnmount",value:function(){this.socket.emit("leftChat")}},{key:"stop",value:function(){this.setState({started:!1}),this.socket.emit("unQueue"),this.updateMsgs("Left queue, press start to rejoin!","server",!0)}},{key:"render",value:function(){var e=this,t=this.state,a=t.msg,r=t.msgs,o=t.started;return c.default.createElement(d.ImageBackground,{resizeMode:"repeat",source:n(67),style:x.container},c.default.createElement(d.View,{style:x.wrapper},c.default.createElement(g.default,{navigation:this.props.navigation}),c.default.createElement(d.View,{style:x.chatBox},c.default.createElement(d.FlatList,{inverted:-1,data:r,style:{padding:10},renderItem:function(e){var t=e.item;return c.default.createElement(d.Text,null,t.fromStranger?c.default.createElement(d.Text,{style:{color:"#ff0000",fontWeight:"bold"}},"Stranger:"," "):t.fromServer?c.default.createElement(d.Text,{style:{color:"#000",fontWeight:"bold"}},"Server:"," "):c.default.createElement(d.Text,{style:{color:"#0000ff",fontWeight:"bold"}},"You:"," "),t.text)}})),c.default.createElement(d.View,{style:x.bottomBar},c.default.createElement(d.TouchableOpacity,{onPress:this.start,style:[x.bottomBarBtn,{width:this.state.started?(d.Platform.OS,60):(d.Platform.OS,80),marginRight:8}]},c.default.createElement(d.View,{style:[{flex:1,width:"100%",justifyContent:"center",alignItems:"center"},this.state.started?m.globalStyle.blueBtn:m.globalStyle.greenBtn]},c.default.createElement(d.Text,{style:[m.globalStyle.textMd,m.globalStyle.textWhite]},this.state.started?"Skip":"Start"))),c.default.createElement(d.TouchableOpacity,{onPress:function(){return e.stop()},style:[x.bottomBarBtn,{width:this.state.started?(d.Platform.OS,60):(d.Platform.OS,80)},this.state.started?{display:"flex"}:{display:"none"}]},c.default.createElement(d.View,{style:[{flex:1,width:"100%",justifyContent:"center",alignItems:"center"},m.globalStyle.redBtn]},c.default.createElement(d.Text,{style:[m.globalStyle.textMd,m.globalStyle.textWhite]},"Stop"))),c.default.createElement(d.View,{style:x.chatInput},c.default.createElement(d.TextInput,{editable:o,onChangeText:function(t){return e.setState({msg:t})},value:a,style:{flex:1},onKeyPress:function(t){"Enter"==t.nativeEvent.key&&e.sendMsg(a)}})),c.default.createElement(d.TouchableOpacity,{onPress:function(){return e.sendMsg(a)},style:[x.chatSend,m.globalStyle.grayBtn]},c.default.createElement(d.Text,null,"Send")))))}}]),a}(c.default.Component);t.default=b;var v=f.default.create({wrapper:{width:"90%",height:"100%",paddingBottom:15},container:{alignItems:"center",flex:1},buttonsContainer:{flexDirection:"row"},buttons:{margin:10,padding:10},chatBox:{flex:1,backgroundColor:"#fff",borderRadius:4,marginBottom:10},bottomBar:{width:"100%",flexDirection:"row",height:"20%"},bottomBarBtn:{height:"100%",width:200,justifyContent:"center",alignItems:"center","@media (max-width: 500px)":{width:100}},chatInput:{height:"100%",flex:1,backgroundColor:"#fff",marginLeft:10,borderRadius:2},chatSend:{height:"100%",width:100,justifyContent:"center",alignItems:"center","@media (max-width: 500px)":{width:50}}}),x=(v.ids,v.styles)},786:function(e,t,n){var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.closeModal;return l.default.createElement(r.View,{style:i.container},l.default.createElement(r.TouchableOpacity,{onPress:t},l.default.createElement(r.Text,{style:[o.globalStyle.textWhite]},"close")),l.default.createElement(r.Image,{style:i.vip,source:n(844)}),l.default.createElement(r.View,{style:i.whyvip},l.default.createElement(r.Text,{style:[o.globalStyle.textWhite,o.globalStyle.textMd,o.globalStyle.textBold,i.viptext]},"Faster Connection"),l.default.createElement(r.Text,{style:[o.globalStyle.textWhite,o.globalStyle.textMd,o.globalStyle.textBold,i.viptext]},"Access to VIP coins"),l.default.createElement(r.Text,{style:[o.globalStyle.textWhite,o.globalStyle.textMd,o.globalStyle.textBold,i.viptext]},"Upload your own icons"),l.default.createElement(r.Text,{style:[o.globalStyle.textWhite,o.globalStyle.textMd,o.globalStyle.textBold,i.viptext]},"Colored chat alias")),l.default.createElement(r.Image,{style:i.logo,source:n(74)}),l.default.createElement(r.TouchableOpacity,{style:[o.globalStyle.greenBtn,i.submitBtn]},l.default.createElement(r.Text,{style:[o.globalStyle.textMd,o.globalStyle.textWhite]},"BUY")),l.default.createElement(r.Text,{style:[o.globalStyle.textMd,o.globalStyle.textWhite,o.globalStyle.textBold]},"Price: ",l.default.createElement(r.Text,{style:o.globalStyle.textGreen},"1337$")))};var r=n(4),o=(n(179),n(48)),l=a(n(1));var i=r.StyleSheet.create({container:{flex:1,justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},logo:{height:150,width:300,resizeMode:"contain"},vip:{height:50,width:50,resizeMode:"contain"},viptext:{marginVertical:5},whyvip:{backgroundColor:"#3b3b3b",padding:20,borderRadius:4},changeFormTxt:{margin:5},submitBtn:{justifyContent:"center",textAlign:"center",paddingHorizontal:80,paddingVertical:10}})},844:function(e,t,n){e.exports=n.p+"static/media/VIP.07483ac8.png"},845:function(e,t,n){var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.closeModal;return l.default.createElement(r.View,{style:i.container},l.default.createElement(r.TouchableOpacity,{onPress:t},l.default.createElement(r.Text,{style:[o.globalStyle.textWhite]},"close")),l.default.createElement(r.Image,{style:i.logo,source:n(74)}),l.default.createElement(r.View,{style:{backgroundColor:"#969696",borderRadius:4}},l.default.createElement(r.View,{style:{flexDirection:"row",width:300,borderBottomColor:"#232323",borderBottomWidth:2,padding:10}},l.default.createElement(r.Text,{style:[o.globalStyle.textWhite,o.globalStyle.textMd,o.globalStyle.textBold,{flex:3}]},"Name"),l.default.createElement(r.Text,{style:[o.globalStyle.textWhite,o.globalStyle.textMd,o.globalStyle.textBold,{flex:1}]},"Price")),l.default.createElement(r.View,{style:i.shopList},l.default.createElement(r.FlatList,{keyExtractor:function(e){return e.id},data:[{name:"item",image:"video-box-logo",id:1},{name:"item",image:"video-box-logo",id:2},{name:"item",image:"video-box-logo",id:3},{name:"item",image:"video-box-logo",id:4},{name:"item",image:"video-box-logo",id:5},{name:"item",image:"video-box-logo",id:6}],renderItem:function(e){var t=e.item;return l.default.createElement(r.View,{style:[i.listItem,{flexDirection:"row",width:300,padding:10,borderBottomColor:"#232323",borderBottomWidth:1}]},l.default.createElement(r.Text,{style:[o.globalStyle.textWhite,o.globalStyle.textMd,o.globalStyle.textBold,{flex:3}]},t.name,l.default.createElement(r.View,{style:{width:69,height:30}},l.default.createElement(r.Image,{style:i.listImage,source:n(74)}))),l.default.createElement(r.Text,{style:[o.globalStyle.textWhite,o.globalStyle.textMd,o.globalStyle.textBold,{flex:1}]},"Price"))}}))))};var r=n(4),o=(n(179),n(48)),l=a(n(1));var i=r.StyleSheet.create({shopList:{height:300},listItem:{alignItems:"center",justifyContent:"center"},listImage:{flex:1,width:"100%",height:"100%",resizeMode:"contain"},container:{flex:1,justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},logo:{height:150,width:300,resizeMode:"contain"},changeFormTxt:{}})},846:function(e,t,n){var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.closeModal,a=(0,u.useState)("login"),d=(0,r.default)(a,2),g=d[0],m=d[1];return u.default.createElement(o.ImageBackground,{resizeMode:"repeat",source:n(67),style:f.container},u.default.createElement(o.TouchableOpacity,{onPress:t},u.default.createElement(o.Text,{style:[c.globalStyle.textWhite]},"close")),u.default.createElement(o.Image,{style:f.logo,source:n(74)}),"login"==g&&u.default.createElement(l.default,{onFinish:t}),"register"==g&&u.default.createElement(i.default,null),"forgotPassword"==g&&u.default.createElement(s.default,null),"login"==g&&u.default.createElement(o.View,null,u.default.createElement(o.TouchableOpacity,{onPress:function(){return m("register")}},u.default.createElement(o.Text,{style:[f.changeFormTxt,c.globalStyle.textGreen]},"Don't have an account?")),u.default.createElement(o.TouchableOpacity,{onPress:function(){return m("forgotPassword")}},u.default.createElement(o.Text,{style:[f.changeFormTxt,c.globalStyle.textGreen]},"Password Forgotten?"))),"register"==g&&u.default.createElement(o.TouchableOpacity,{onPress:function(){return m("login")}},u.default.createElement(o.Text,{style:[f.changeFormTxt,c.globalStyle.textGreen]},"Already have an account?")),"forgotPassword"==g&&u.default.createElement(o.View,null,u.default.createElement(o.TouchableOpacity,{onPress:function(){return m("register")}},u.default.createElement(o.Text,{style:[f.changeFormTxt,c.globalStyle.textGreen]},"Don't have an account?")),u.default.createElement(o.TouchableOpacity,{onPress:function(){return m("login")}},u.default.createElement(o.Text,{style:[f.changeFormTxt,c.globalStyle.textGreen]},"Back to login"))))};var r=a(n(13)),o=n(4),l=(n(179),a(n(847))),i=a(n(865)),s=a(n(866)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=r?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(1)),c=n(48);function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}var f=o.StyleSheet.create({container:{flex:1,justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},logo:{height:150,width:300,resizeMode:"contain"},changeFormTxt:{margin:5}})},847:function(e,t,n){var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.onFinish,n={Email:"",Password:""},a="https://b446-196-70-69-208.ngrok.io";"android"==i.Platform.OS&&(a="http://10.0.2.2:5000");return console.log("false"),l.default.createElement(i.View,{style:c.container},l.default.createElement(o.Formik,{initialValues:n,onSubmit:function(e,o){var l=o.resetForm;r.default.post(a+"/users/login",{email:e.Email,password:e.Password}).then((function(e){u.userStore.setUser({user:e.data.user,tocken:e.data.tocken}),console.log(u.userStore.currentUser.user.username),l({values:n}),t()})).catch((function(e){console.log(e)}))}},(function(e){return l.default.createElement(i.View,null,l.default.createElement(i.TextInput,{placeholder:"Email",onChangeText:e.handleChange("Email"),value:e.values.Email,style:c.input}),l.default.createElement(i.TextInput,{secureTextEntry:!0,placeholder:"Password",onChangeText:e.handleChange("Password"),value:e.values.Password,style:c.input}),l.default.createElement(i.TouchableOpacity,{onPress:e.handleSubmit,style:[s.globalStyle.greenBtn,c.submitBtn]},l.default.createElement(i.Text,{style:[s.globalStyle.textMd,s.globalStyle.textWhite]},"Login")))})))};var r=a(n(309)),o=n(184),l=a(n(1)),i=n(4),s=n(48),u=n(183);var c=i.StyleSheet.create({container:{width:300},input:{borderWidth:1,borderColor:"#ddd",padding:10,fontSize:18,borderRadius:6,marginVertical:15,backgroundColor:"#fff"},submitBtn:{justifyContent:"center",textAlign:"center",padding:10}})},865:function(e,t,n){var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e={Email:"",Username:"",Password:"",ConfirmPassword:""},t="https://33d3-196-77-101-14.ngrok.io";"android"==l.Platform.OS&&(t="http://10.0.2.2:5000");return console.log("false"),o.default.createElement(l.View,{style:u.container},o.default.createElement(r.Formik,{initialValues:e,onSubmit:function(n,a){var r=a.resetForm;s.default.post(t+"/users/register",{email:n.Email,username:n.Username,password:n.Password,password2:n.ConfirmPassword}).then((function(t){console.log(t),r({values:e})})).catch((function(e){console.log(e)}))}},(function(e){return o.default.createElement(l.View,null,o.default.createElement(l.TextInput,{placeholder:"Email",onChangeText:e.handleChange("Email"),value:e.values.Email,style:u.input}),o.default.createElement(l.TextInput,{placeholder:"Username",onChangeText:e.handleChange("Username"),value:e.values.Username,style:u.input}),o.default.createElement(l.TextInput,{secureTextEntry:!0,placeholder:"Password",onChangeText:e.handleChange("Password"),value:e.values.Password,style:u.input}),o.default.createElement(l.TextInput,{secureTextEntry:!0,placeholder:"ConfirmPassword",onChangeText:e.handleChange("ConfirmPassword"),value:e.values.ConfirmPassword,style:u.input}),o.default.createElement(l.TouchableOpacity,{onPress:e.handleSubmit,style:[i.globalStyle.greenBtn,u.submitBtn]},o.default.createElement(l.Text,{style:[i.globalStyle.textMd,i.globalStyle.textWhite]},"Register")))})))};var r=n(184),o=a(n(1)),l=n(4),i=n(48),s=a(n(309));var u=l.StyleSheet.create({container:{width:300},input:{borderWidth:1,borderColor:"#ddd",padding:10,fontSize:18,borderRadius:6,marginVertical:15,backgroundColor:"#fff"},submitBtn:{justifyContent:"center",textAlign:"center",padding:10}})},866:function(e,t,n){var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return o.default.createElement(l.View,{style:s.container},o.default.createElement(r.Formik,{initialValues:{Email:"",Password:""},onSubmit:function(e){}},(function(e){return o.default.createElement(l.View,null,o.default.createElement(l.TextInput,{placeholder:"Email",onChangeText:e.handleChange("Email"),value:e.values.Email,style:s.input}),o.default.createElement(l.TouchableOpacity,{style:[i.globalStyle.greenBtn,s.submitBtn]},o.default.createElement(l.Text,{style:[i.globalStyle.textMd,i.globalStyle.textWhite]},"Login")))})))};var r=n(184),o=a(n(1)),l=n(4),i=n(48);var s=l.StyleSheet.create({container:{width:300},input:{borderWidth:1,borderColor:"#ddd",padding:10,fontSize:18,borderRadius:6,marginVertical:15,backgroundColor:"#fff"},submitBtn:{justifyContent:"center",textAlign:"center",padding:10}})},867:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.text,n=e.onPress,l=e.color;return React.createElement(r.TouchableOpacity,{style:(o.button,{backgroundColor:l}),onPress:n},React.createElement(a.Text,{style:{color:"#fff"}},t))};var a=n(4),r=n(63);var o=a.StyleSheet.create({button:{borderRadius:4,backgroundColor:"rgb(5, 233, 5)",justifyContent:"center",height:"100%"}})},872:function(e,t,n){var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(14)),o=a(n(2)),l=a(n(3)),i=a(n(6)),s=a(n(7)),u=a(n(5)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=r?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(1)),d=n(4),f=a(n(177)),g=n(63),m=a(n(301)),h=n(48),y=a(n(320)),p=n(318),b=(n(875),n(61),n(876),n(877)),v=n(183),x=a(n(878));function S(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var E=function(e){(0,i.default)(a,e);var t=w(a);function a(e){var n;return(0,o.default)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.socket=y.default.connect("https://boredbackend.herokuapp.com/chat"),n.socket.on("connection-success",(function(e){console.log(e)})),n.socket.on("newMsg",(function(e){n.updateMsgs(e.msg,"stranger")})),n.socket.on("foundStranger",(function(e){n.updateMsgs("Found New Stranger, Say Hi!","server",!0),n.setState({room:e}),e.us1==n.socket.id&&n.createOffer()})),n.socket.on("strangerLeft",(function(){n.setState({remoteStream:null}),n.updateMsgs("Stranger Left, looking for new room...","server"),n.newConnection()})),n.socket.on("joinRoom",(function(e){n.socket.emit("joinRoom",e)})),n.socket.on("queueUp",(function(){n.socket.emit("queueUp")})),n.socket.on("refresh",(function(){n.newConnection(),n.state.room.us1==n.socket.id&&n.createOffer()})),n.socket.on("addedToQueue",(function(){n.updateMsgs("No Stranger Found, waiting on queue...","server")})),n.socket.on("offerOrAnswer",(function(e){null!=e&&console.log("got sdp"),n.socket.id==n.state.room.us1&&console.log("i am s1"),n.pc.setRemoteDescription(new p.RTCSessionDescription(e)),n.state.room.us2==n.socket.id&&(n.createAnswer(),console.log("i am s2"))})),n.socket.on("candidate",(function(e){n.pc.addIceCandidate(new p.RTCIceCandidate(e))})),n.socket.on("count",(function(e){v.userStore.setUserCount(e)}));p.mediaDevices.enumerateDevices().then((function(e){var t;console.log("source Info: "+e);for(var a=0;a<e.length;a++){var r=e[a];"videoinput"==r.kind&&"front"==r.facing&&(t=r.deviceId)}p.mediaDevices.getUserMedia({audio:!0,video:{width:640,height:480,frameRate:30,facingMode:"user",deviceId:t}}).then((function(e){n.setState({localStream:e,showLocal:!0}),console.log(n.state.showLocal)})).catch((function(e){failure}))}))},n.queue=function(){n.socket.emit("start"),n.updateMsgs("Looking for stranger...","server",!0)},n.start=function(){n.state.started=!0,n.newConnection(),n.sleep(2e3).then((function(){n.queue()}))},n.sendMsg=function(){n.socket.emit("newMsg",{msg:n.state.msg,id:n.socket.id}),n.updateMsgs(n.state.msg)},n.updateMsgs=function(e,t,a){e&&(a?n.setState({msgs:[{text:e,romStranger:"stranger"==t,fromServer:"server"==t}],msg:""}):n.setState({msgs:[{text:e,fromStranger:"stranger"==t,fromServer:"server"==t}].concat((0,r.default)(n.state.msgs)),msg:""}))},n.sendToPeer=function(e,t){n.socket.emit(e,{socketID:n.socket.id,payload:t})},n.refresh=function(){n.socket.emit("refresh",n.state.room)},n.createOffer=function(){console.log("Offer"),n.pc.createOffer({offerToReceiveVideo:1,offerToReceiveAudio:1}).then((function(e){n.pc.setLocalDescription(e),n.sendToPeer("offerOrAnswer",e)}))},n.createAnswer=function(){console.log("Answer"),n.pc.createAnswer({offerToReceiveVideo:1,offerToReceiveAudio:1}).then((function(e){n.pc.setLocalDescription(e),n.sendToPeer("offerOrAnswer",e)}))},n.setRemoteDescription=function(){var e=JSON.parse(n.sdp);n.pc.setRemoteDescription(new p.RTCSessionDescription(e))},n.addCandidate=function(){n.candidates.forEach((function(e){console.log(JSON.stringify(e)),n.pc.addIceCandidate(new p.RTCIceCandidate(e))}))},n.state={localStream:null,remoteStream:null,showLocal:!1,msg:"",msgs:[],room:{us1:null,us2:null,id:null},started:!1},n.sdp,n.socket=null,n.candidates=[],n}return(0,l.default)(a,[{key:"newConnection",value:function(){var e=this;this.setState({remoteStream:null}),this.pc&&this.pc.close();this.pc=new p.RTCPeerConnection({iceServers:[{urls:"stun:stun.l.google.com:19302"}]}),this.pc.onicecandidate=function(t){t.candidate&&e.sendToPeer("candidate",t.candidate)},this.pc.oniceconnectionstatechange=function(e){console.log(e)},this.pc.onaddstream=function(t){console.log("updated remote stream"),e.setState({remoteStream:t.stream})},this.pc.addEventListener("iceconnectionstatechange",(function(t){"failed"===e.pc.iceConnectionState&&e.pc.restartIce()})),this.pc.addStream(this.state.localStream)}},{key:"sleep",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}},{key:"stop",value:function(){this.setState({started:!1,remoteStream:null}),this.socket.emit("unQueue"),this.updateMsgs("Left queue, press start to rejoin!","server",!0)}},{key:"getLocalStream",value:function(){var e=this;p.mediaDevices.enumerateDevices().then((function(t){var n;console.log("source Info: "+t);for(var a=0;a<t.length;a++){var r=t[a];"videoinput"==r.kind&&"front"==r.facing&&(n=r.deviceId)}p.mediaDevices.getUserMedia({audio:!0,video:{width:640,height:480,frameRate:30,facingMode:"user",deviceId:n}}).then((function(t){e.setState({localStream:t,showLocal:!0}),console.log(e.state.showLocal)})).catch((function(e){failure}))}))}},{key:"componentWillUnmount",value:function(){this.socket.emit("leftChat")}},{key:"render",value:function(){var e=this,t=this.state,a=t.localStream,r=t.remoteStream,o=t.showLocal,l=t.msg,i=t.msgs,s=t.started,u=o?c.default.createElement(b.VideoContainer,{stream:a,mirror:!1,keyy:2}):c.default.createElement(d.View,{style:{padding:15}},c.default.createElement(d.Text,{style:{fontSize:22,textAlign:"center",color:"black"}},"Please Allow Camera Permission and click start ...")),f=r?c.default.createElement(b.VideoContainer,{keyy:1,mirror:!0,stream:r}):c.default.createElement(d.View,{style:{padding:15}},c.default.createElement(d.Text,{style:{fontSize:22,textAlign:"center",color:"black"}},"Waiting for Peer connection ..."));return c.default.createElement(d.ImageBackground,{resizeMode:"repeat",source:n(67),style:C.container},c.default.createElement(d.View,{style:C.wrapper},c.default.createElement(m.default,{navigation:this.props.navigation}),c.default.createElement(d.View,{style:C.videoBox},c.default.createElement(d.View,{style:C.video},f,c.default.createElement(d.Button,{title:"refresh",onPress:function(){return e.refresh()}})),c.default.createElement(d.View,{style:C.videosDevider}),c.default.createElement(x.default,{disabled:(d.Platform.OS,!1),style:[C.video,C.video1]},u)),c.default.createElement(d.View,{style:C.bottomBar},c.default.createElement(g.TouchableOpacity,{onPress:this.start,style:[C.bottomBarBtn,{width:this.state.started?(d.Platform.OS,60):(d.Platform.OS,80),marginRight:8}]},c.default.createElement(d.View,{style:[{flex:1,width:"100%",justifyContent:"center",alignItems:"center"},this.state.started?h.globalStyle.blueBtn:h.globalStyle.greenBtn]},c.default.createElement(d.Text,{style:[h.globalStyle.textMd,h.globalStyle.textWhite]},this.state.started?"Skip":"Start"))),c.default.createElement(g.TouchableOpacity,{onPress:function(){return e.stop()},style:[C.bottomBarBtn,{width:this.state.started?(d.Platform.OS,60):(d.Platform.OS,80)},this.state.started?{display:"flex"}:{display:"none"}]},c.default.createElement(d.View,{style:[{flex:1,width:"100%",justifyContent:"center",alignItems:"center"},h.globalStyle.redBtn]},c.default.createElement(d.Text,{style:[h.globalStyle.textMd,h.globalStyle.textWhite]},"Stop"))),c.default.createElement(d.View,{style:C.chatInput},c.default.createElement(d.FlatList,{inverted:-1,data:i,style:{paddingHorizontal:10,paddingTop:10,flex:1},renderItem:function(e){var t=e.item;return c.default.createElement(d.Text,null,t.fromStranger?c.default.createElement(d.Text,{style:{color:"#ff0000",fontWeight:"bold"}},"Stranger:"," "):t.fromServer?c.default.createElement(d.Text,{style:{color:"#000",fontWeight:"bold"}},"Server:"," "):c.default.createElement(d.Text,{style:{color:"#0000ff",fontWeight:"bold"}},"You:"," "),t.text)}}),c.default.createElement(g.TextInput,{editable:s,onChangeText:function(t){return e.setState({msg:t})},value:l,style:{backgroundColor:"rgb(182, 182, 182)",height:35,paddingHorizontal:4},onSubmitEditing:function(){return e.sendMsg(l)}})),c.default.createElement(g.TouchableOpacity,{onPress:function(){return e.sendMsg(l)},style:[C.chatSend,h.globalStyle.grayBtn]},c.default.createElement(d.Text,null,"Send")))))}}]),a}(c.default.Component);t.default=E;var k=f.default.create({wrapper:{width:"90%",height:"100%",paddingBottom:15},container:{alignItems:"center",flex:1},buttonsContainer:{flexDirection:"row"},buttons:{margin:10,padding:10},videoBox:{flex:1,marginBottom:10,flexDirection:"row","@media (max-width: 500px)":{}},video:{flex:1,backgroundColor:"#fff",borderRadius:4},video1:{"@media (max-width: 500px)":{position:"absolute",bottom:0,right:0,height:"30%",width:"30%",backgroundColor:"#232323"},zIndex:2},videosDevider:{paddingHorizontal:10,"@media (max-width: 500px)":{display:"none"}},bottomBar:{width:"100%",flexDirection:"row",height:100},chatInput:{height:"100%",flex:1,backgroundColor:"#fff",marginLeft:10,borderRadius:2},chatSend:{height:"100%",width:100,justifyContent:"center",alignItems:"center","@media (max-width: 500px)":{width:50}},bottomBarBtn:{height:"100%",width:200,"@media (max-width: 500px)":{width:100}}}),C=(k.ids,k.styles)},875:function(e,t,n){var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.videoStore=void 0;var r=a(n(2)),o=a(n(3)),l=n(9),i=new(function(){function e(){(0,r.default)(this,e),this.localStream=null,this.remoteStream=null,(0,l.makeObservable)(this,{localStream:l.observable,remoteStream:l.observable,getLocalStream:l.computed,getRemoteStream:l.computed})}return(0,o.default)(e,[{key:"setLocalStream",value:function(e){this.localStream=e}},{key:"setRemoteStream",value:function(e){this.remoteStream=e}},{key:"unsetLocalStream",value:function(){this.localStream=null}},{key:"unsetRemoteStream",value:function(){this.remoteStream=null}},{key:"getLocalStream",get:function(){return this.localStream}},{key:"getRemoteStream",get:function(){return this.remoteStream}}]),e}());t.videoStore=i},876:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ChatList=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=r?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(a,l,i):a[l]=e[l]}a.default=e,n&&n.set(e,a);return a}(n(1)),r=n(4);n(63);function o(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}var l=a.default.memo((function(e){var t=e.msgs;e.msg,e.newMsg,e.onChange;return a.default.createElement(r.View,null,a.default.createElement(r.FlatList,{data:t,style:{padding:10},renderItem:function(e){var t=e.item;return a.default.createElement(r.Text,null,t.fromStranger?a.default.createElement(r.Text,{style:{color:"#ff0000",fontWeight:"bold"}},"Stranger: "):t.fromServer?a.default.createElement(r.Text,{style:{color:"#000",fontWeight:"bold"}},"Server: "):a.default.createElement(r.Text,{style:{color:"#0000ff",fontWeight:"bold"}},"You: "),t.text)}}))}));t.ChatList=l;r.StyleSheet.create({button:{borderRadius:4,backgroundColor:"rgb(5, 233, 5)",justifyContent:"center",height:"100%"}})},877:function(e,t,n){var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.VideoContainer=void 0;var r=a(n(1)),o=n(4),l=(n(63),n(318)),i=r.default.memo((function(e){var t=e.stream,n=e.mirror,a=e.keyy;return r.default.createElement(l.RTCView,{style:{flex:1},stream:t,mirror:n,key:a,objectFit:"contain"})}));t.VideoContainer=i;o.StyleSheet.create({button:{borderRadius:4,backgroundColor:"rgb(5, 233, 5)",justifyContent:"center",height:"100%"}})}},[[326,1,2]]]);
//# sourceMappingURL=app.d4b151dc.chunk.js.map